# 🐦 iCrawledTw-Electron

**Twitterメディアダウンローダー**


## ✨ 特徴

### ⚡ **高性能機能**
- 🚀 **高速並列ダウンロード** - 最大5つまで同時処理
- 🔄 **自動リトライ** - ネットワークエラー時の自動再試行
- 📊 **リアルタイム進捗** - ダウンロード状況のリアルタイム表示
- 💾 **スマート命名** - `{username}_{timestamp}_{連番}.{拡張子}` 形式

### 🛠️ **便利機能**
- 📁 **自動フォルダ分類** - ユーザーごとの自動フォルダ作成
- 🎯 **メディアフィルター** - 画像のみ/動画のみの選択可能
- 📝 **ダウンロード履歴** - 過去のダウンロード記録
- ⚙️ **詳細設定** - カスタマイズ可能な動作設定

## 🚀 クイックスタート

### 📋 **必要な環境**
- **Windows 10/11** (主要対応OS)
- **Node.js v16以上** ([ダウンロード](https://nodejs.org/))
- **インターネット接続**

### ⚡ **超簡単セットアップ（推奨）**

1. **ファイルをダウンロード**
   - 全ファイルを同じフォルダに配置

2. **setup.bat をダブルクリック**
   ```
   ========================================
   iCrawledTw-Electron - セットアップ
   ========================================
   
   [1/5] Node.jsの確認中...
   ✅ Node.js v18.17.0 が見つかりました
   [2/5] 依存関係をインストール中...
   ✅ 依存関係のインストールが完了しました
   [3/5] 必要なフォルダを作成中...
   ✅ フォルダの作成が完了しました
   [4/5] アイコンファイルの確認中...
   ✅ アイコンファイルが見つかりました
   [5/5] 初期設定を作成中...
   ✅ 初期設定ファイルを作成しました
   
   ========================================
   ✅ セットアップが完了しました！
   ========================================
   ```

3. **run.bat をダブルクリック**
   ```
   🚀 iCrawledTw-Electron を起動中...
   ✅ 起動準備完了
   📱 アプリケーションを起動しています...
   ```

4. **完了！** 🎉

### 🛠️ **手動セットアップ（上級者向け）**

```bash
# リポジトリをクローン（またはファイルをダウンロード）
git clone https://github.com/dekotan24/iCrawledTw-Electron.git
cd iCrawledTw-Electron

# 依存関係をインストール
npm install

# 開発モードで起動
npm start

# またはビルド
npm run build
```

## 📖 使用方法

### 🎯 **基本的な使い方**

1. **アプリを起動**
   - `run.bat` をダブルクリック

2. **TwitterのURLを取得**
   ```
   例: https://twitter.com/username/status/1234567890
   例: https://x.com/username/status/1234567890
   ```

3. **URLを入力**
   - 入力欄にペースト
   - または「📋貼り付け」ボタンをクリック

4. **メディアを分析**
   - 「🔍メディアを分析」をクリック
   - 自動で画像・動画を検出

5. **ダウンロード**
   - 欲しいメディアを選択
   - 「⬇️選択項目をダウンロード」をクリック

6. **完了**
   - `downloads/ユーザー名/` フォルダに保存
   - ファイル名：`username_20250804143052_1.jpg`

### 🔧 **便利な機能**

#### **自動ダウンロード**
- 「自動ダウンロード」にチェック
- URL入力後、自動で分析・ダウンロード

#### **メディアフィルター**
- 「すべて」「画像のみ」「動画のみ」から選択
- 必要なメディアタイプだけを取得

#### **設定カスタマイズ**
- **保存先変更**: 「設定」タブ → 「📁選択」
- **並列ダウンロード**: 1-5の範囲で調整（推奨：3）
- **画像品質**: オリジナル/大サイズ/中サイズ

#### **キーボードショートカット**
- **Ctrl + Enter**: URL解析
- **Ctrl + D**: ダウンロード開始
- **Ctrl + A**: 全選択
- **F5**: 再解析

### 📋 **ファイル命名規則**

ダウンロードされるファイルは以下の形式で命名されます：

```
{username}_{yyyyMMddHHmmss}_{連番}.{拡張子}

📁 ダウンロードフォルダ構造:
downloads/
├── user123/
│   ├── user123_20250804143052.jpg       # 1つのメディア
│   ├── user123_20250804143052_1.jpg     # 複数メディアの1つ目
│   ├── user123_20250804143052_2.mp4     # 複数メディアの2つ目
│   └── user123_20250804143052_3.jpg     # 複数メディアの3つ目
└── user456/
    └── user456_20250804150021.png
```

## ⚙️ 設定詳細

### 📁 **ダウンロード設定**
| 設定項目 | 説明 | デフォルト |
|---------|------|-----------|
| 保存先フォルダ | ダウンロードファイルの保存場所 | `./downloads` |
| ユーザー別フォルダ | ユーザーごとにサブフォルダを作成 | ✅ 有効 |
| 既存ファイルスキップ | 同名ファイルがある場合はスキップ | ✅ 有効 |

### ⚡ **パフォーマンス設定**
| 設定項目 | 説明 | デフォルト | 推奨値 |
|---------|------|----------|--------|
| 同時ダウンロード数 | 並列処理するファイル数 | 3 | 3-5 |
| 詳細ログ | ログファイルの出力 | ❌ 無効 | お好み |

### 🖼️ **メディア設定**
| 設定項目 | 説明 | デフォルト |
|---------|------|-----------|
| 画像品質 | ダウンロード画像の品質 | オリジナル |
| メディアフィルター | 取得するメディアタイプ | すべて |

## 🎨 テーマとカスタマイズ

### 🌙 **テーマ切り替え**
- **ダークテーマ**: 深い紺色ベース + ネオンブルーアクセント
- **ライトテーマ**: クリーンな白ベース + 同じアクセント
- **切り替え方法**: 左下の「🌙」/「☀️」ボタンをクリック

## 🔧 開発者向け情報

### 🛠️ **開発環境構築**

```bash
# 依存関係をインストール
npm install

# 開発モードで起動（DevTools自動オープン）
npm run dev

# 各プラットフォーム用にビルド
npm run build:win    # Windows (.exe)
npm run build:mac    # macOS (.dmg)
npm run build:linux  # Linux (.AppImage)
```

### 📦 **使用技術**

| カテゴリ | 技術スタック |
|---------|-------------|
| **フレームワーク** | Electron 25.x |
| **UI/CSS** | 純粋なCSS（Glassmorphism） |
| **アイコン** | Lucide Icons |
| **HTTP通信** | Axios |
| **HTML解析** | Cheerio |
| **ビルド** | electron-builder |

### 🔌 **アーキテクチャ**

```
┌─────────────────┐    IPC通信    ┌─────────────────┐
│   Renderer      │◄──────────────   │  Main Process                    │
│   (Frontend)    │               │   (Backend)   │                                  │
│                 │               │               │                                  │
│ ・UI制御        │               │ ・ファイル操作│                                  │
│ ・ユーザー操作  │               │ ・ダウンロード│                                  │
│ ・表示制御      │               │ ・設定管理    │                                  │
└─────────────────┘               └─────────────────┘
         │                                                          │
         │                                                          │
         └────────── preload.js ─────────────┘
                              (セキュア通信)
```

## 🐛 トラブルシューティング

### ❌ **よくある問題と解決方法**

#### **1. アプリが起動しない**
```bash
# Node.jsのバージョンを確認
node --version  # v16以上必要

# 依存関係を再インストール
rm -rf node_modules package-lock.json
npm install

# または setup.bat を再実行
```

#### **2. ダウンロードが失敗する**
- ✅ インターネット接続を確認
- ✅ TwitterのURLが正しいか確認
- ✅ ウイルス対策ソフトの設定を確認
- ✅ 「設定」で同時ダウンロード数を下げる（1-2に設定）

#### **3. メディアが見つからない**
- ✅ ツイートが削除されていないか確認
- ✅ 非公開アカウントの場合はアクセス権限を確認
- ✅ 時間をおいて再試行
- ✅ URLが `/status/` を含む個別ツイートか確認

#### **4. blob URLエラー**
- ✅ Twitterの仕様変更による一時的な問題の可能性
- ✅ アプリを再起動
- ✅ 時間をおいて再試行

### 📋 **ログの確認方法**

1. **設定で「詳細ログ」を有効化**
2. **logsフォルダのファイルを確認**
   ```
   logs/
   └── download-2025-08-04.log
   ```
3. **エラー内容を確認してサポートに報告**

### 🆘 **サポート窓口**

問題が解決しない場合は、以下の情報と共にお問い合わせください：

- **OS**: Windows 10/11
- **Node.jsバージョン**: `node --version`
- **エラーメッセージ**: 正確なメッセージ
- **再現手順**: 何をした時にエラーが発生したか
- **ログファイル**: `logs/` フォルダの内容

## 🔄 更新履歴

### 📅 **v1.0.0** (2025-08-05)
- 🎉 **初回リリース**
- ✨ モダンなGlassmorphism UI
- ⚡ 高速並列ダウンロード機能
- 🌙 ダーク/ライトテーマ対応
- 📁 自動フォルダ分類機能
- 🔧 詳細設定システム
- 📱 レスポンシブデザイン
- 📊 リアルタイム進捗表示
- 📝 ダウンロード履歴機能

## 📜 ライセンス

MIT Licens

## 🙏 謝辞

このプロジェクトは以下のオープンソースプロジェクトを使用しています：

- **[Electron](https://www.electronjs.org/)** - クロスプラットフォームデスクトップアプリフレームワーク
- **[Lucide](https://lucide.dev/)** - アイコンセット
- **[Axios](https://axios-http.com/)** - HTTPクライアント
- **[Cheerio](https://cheerio.js.org/)** - サーバーサイド用jQueryライクなHTML解析

---

**🔗 リンク集**
- 📥 [最新版ダウンロード](https://github.com/dekotan24/iCrawledTw-Electron/releases)
- 🐛 [バグ報告](https://github.com/dekotan24/iCrawledTw-Electron/issues)
